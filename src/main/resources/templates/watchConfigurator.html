<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <th:block th:include="fragments/head :: head"></th:block>
</head>
<body class="text-center">

<header th:replace="fragments/header :: header">
</header>

<div class="py-4">
    <h2>Create your own watch</h2>
</div>
<div class="col-md-8 order-md-1 mx-auto w-75">
    <form action="#" th:action="@{/newWatch}" th:object="${watchDetails}" method="post">
        <div class="mb-3">
            <label for="name">Name</label>
            <input id="name" type="text" class="form-control" placeholder="Name for the watch"
                   th:field="*{name}" required/>
            <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
        </div>
        <div class="mb-3">
            <label for="particularity">Particularity</label>
            <textarea type="text" id="particularity" class="form-control" placeholder="Particularity of the watch"
                      th:field="*{particularity}" required></textarea>
        </div>

        <span>Choose a part in all three categories</span><br><br>

        <div th:if="${#fields.hasErrors('braceletId')}" th:errors="*{braceletId}" class="alert alert-danger"
             role="alert">
        </div>
        <div th:if="${#fields.hasErrors('casingId')}" th:errors="*{casingId}" class="alert alert-danger" role="alert">
        </div>
        <div th:if="${#fields.hasErrors('clockworkId')}" th:errors="*{clockworkId}" class="alert alert-danger"
             role="alert">
        </div>

        <span></span>
        <span></span>
        <span></span>

        <div class="accordion mb-4" id="accordionExample">
            <div class="card">
                <div class="card-header" id="headingOne">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
                                data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Bracelets
                        </button>
                    </h2>
                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                     data-parent="#accordionExample">
                    <div class="card-body">
                        <table class="table">
                            <thead>
                            <tr>
                                <th></th>
                                <th>Name</th>
                                <th>Material</th>
                                <th>Size</th>
                                <th>Manufacturer</th>
                                <th>Price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="singleBracelet : ${bracelets}">
                                <td>
                                    <input type="radio" th:field="*{braceletId}" th:value="${singleBracelet.getId()}"
                                           required/>
                                </td>
                                <td th:utext="${singleBracelet.getName()}">...</td>
                                <td th:utext="${singleBracelet.getMaterial()}">...</td>
                                <td th:utext="${singleBracelet.getSize()}">...</td>
                                <td th:utext="${singleBracelet.getManufacturer().getName()}">...</td>
                                <td th:utext="${singleBracelet.getPrice()}">...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header" id="headingTwo">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse"
                                data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Casings
                        </button>
                    </h2>
                </div>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                    <div class="card-body">
                        <table class="table">
                            <thead>
                            <tr>
                                <th></th>
                                <th>Name</th>
                                <th>Material</th>
                                <th>OuterDiameter</th>
                                <th>Manufacturer</th>
                                <th>Price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="singleCasing : ${casings}">
                                <td>
                                    <input type="radio" th:field="*{casingId}" th:value="${singleCasing.getId()}"
                                           required/>
                                </td>
                                <td th:utext="${singleCasing.getName()}">...</td>
                                <td th:utext="${singleCasing.getMaterial()}">...</td>
                                <td th:utext="${singleCasing.getOuterDiameter()}">...</td>
                                <td th:utext="${singleCasing.getManufacturer().getName()}">...</td>
                                <td th:utext="${singleCasing.getPrice()}">...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header" id="headingThree">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse"
                                data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Clockworks
                        </button>
                    </h2>
                </div>
                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                    <div class="card-body">
                        <table class="table">
                            <thead>
                            <tr>
                                <th></th>
                                <th>Name</th>
                                <th>Material</th>
                                <th>Diameter</th>
                                <th>Manufacturer</th>
                                <th>Price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="singleClockwork : ${clockworks}">
                                <td>
                                    <input type="radio" th:field="*{clockworkId}" th:value="${singleClockwork.getId()}"
                                           required/>
                                </td>
                                <td th:utext="${singleClockwork.getName()}">...</td>
                                <td th:utext="${singleClockwork.getMaterial()}">...</td>
                                <td th:utext="${singleClockwork.getDiameter()}">...</td>
                                <td th:utext="${singleClockwork.getManufacturer().getName()}">...</td>
                                <td th:utext="${singleClockwork.getPrice()}">...</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <button type="submit" value="Submit" class="btn btn-outline-primary btn-lg">Create the watch</button>
    </form>
</div>
<footer th:replace="fragments/footer :: footer">
</footer>
<th:block th:include="fragments/javascript :: javascript"></th:block>

</body>
</html>